
<!doctype html>

<!-- Coded by C. M. Mitchell
		-->

<html>
	<head>
		<meta charset="utf-8">
		<title>Church Map v1</title>

		<!-- Stylesheets -->
		<link rel="stylesheet" type="text/css" href="https://unpkg.com/leaflet@1.3.0/dist/leaflet.css" />
			<script type="text/javascript" src="https://unpkg.com/leaflet@1.3.0/dist/leaflet.js"></script>
			<link rel="stylesheet" type="text/css" href="https://cmmitchell.github.io/Webmap2/Stylesheets/ControlLayer.css"/>
			<script src="https://cmmitchell.github.io/Webmap2/Stylesheets/styledLayerControl.js"></script>
		<link rel="stylesheet" type="text/css" href="https://cmmitchell.github.io/Webmap2/Stylesheets/measure_tool.css"/>
		<link rel="stylesheet" type="text/css" href="https://cmmitchell.github.io/Webmap2/Stylesheets/css.css"/>
		<link href='https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/leaflet.fullscreen.css' rel='stylesheet' />
			
	

		<!-- Javascript and other links-->
		
		<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
		<script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/Leaflet.fullscreen.min.js'></script>
		<script type="text/javascript" src="https://cmmitchell.github.io/Webmap2/Java/gjson/measure_tool.js"></script>
		

		
		<!-- GeoJSON overlays -->
		<script type="text/javascript" src="https://cmmitchell.github.io/Locations/Location/Shapefile/caro_point.js"></script>
		<script type="text/javascript" src="https://cmmitchell.github.io/Locations/Location/Shapefile/caro_poly.js"></script>

		<!-- Broken Stuff -->
		


		

		
		
<!doctype html>

<!-- Coded by C. M. Mitchell
	 For some unknown reason...
		-->

		
	</head>
		<body>
	
		<!-- Fade auomation for text box/legend thing -->

			
	

						<!-- Logo or somthing -->
			</div>
			

			<div id="map"></div>
	
			<script>
			
			
			//calling geo JASON and embeded styles from javascript
			//============================================	
			//=================Background=================
			//============================================
			
			
			
				var a = L.geoJson(points, {
					style: pointcol})
					b = L.geoJson(polys, {
					style: polycol})

					

					
	//===============================Layer Groups=======================================
				
				//===================================================
				//assigning variables to layers for control
				//===================================================
				
					//=================background=================
				var aShp = L.layerGroup([a]),
					bShp = L.layerGroup([b]);
				
				//background images
				var OpenStreetMap_Mapnik = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
				maxZoom: 19,
				attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
				});
				var Esri_WorldImagery = L.tileLayer('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
					attribution: 'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'
				});
	//this is a seperating line ----------------------------------------------------------------------------------
				//set map extent, view, and default layer
				var map = L.map('map', {
					layers: [OpenStreetMap_Mapnik, aShp, bShp],
					zoomDelta: 0.15,
					zoomSnap: 0
					}).setView([38.859504, -75.837826], 4.5);
	//this is a seperating line ----------------------------------------------------------------------------------
			
				//Create Layered Groups
				//create basemaps variable to call within the control
				var baseMaps = [
						{ 
							groupName : "Background",
							expanded : true,
							layers    : {
								"Streets": OpenStreetMap_Mapnik,
								"Aerial": Esri_WorldImagery
							}
					
						}							
				];	
				//create overlays variable to call within the control. Calls layer groups
				
				var overlays = [
						 {
							groupName : "Thing",
							expanded  : true,
							layers    : { 
								"Parcel":bShp,
								"Point":aShp
							}	
						 }							 
				];
				//================================================
				
				
				var options = {
					container_width 	: "180px",
					group_maxHeight     : "200px",
					//container_maxHeight : "350px", 
					exclusive       	: false,
					collapsed : true, 
					position: 'topright'
				};
		//this is a seperating line ----------------------------------------------------------------------------------
				
				//add control to map
				var control = L.Control.styledLayerControl(baseMaps, overlays, options);
				map.addControl(control);
				//Check this and associated scripts for errors. Displays tool, but not tool icon.  Error is likely in the script.
				var measureControl = new L.Control.Measure(
					{
						position: 'topright',
						primaryLengthUnit: 'meters',
						activeColor: '#ABE67E'
					}
				);
				measureControl.addTo(map);

						
	
			//this is a seperating line ----------------------------------------------------------------------------------	
				

				
				//legendGW.addTo(map);
				
				L.control.scale({maxWidth: 150}).addTo(map);
				L.control.fullscreen().addTo(map);
				//var poi1 = L.point(100, -180),
				//poi2 = L.point(-100, 180)
				    
				//L.bounds(poi1, poi2);		
				
				//L.map('map', {
        			
    				//});
				
			
			
			</script>
			
		</body>
